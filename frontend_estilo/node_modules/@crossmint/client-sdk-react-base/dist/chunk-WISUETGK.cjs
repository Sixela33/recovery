"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _react = require('react');var _commonsdkbase = require('@crossmint/common-sdk-base');var _lodashisequal = require('lodash.isequal'); var _lodashisequal2 = _interopRequireDefault(_lodashisequal);var _jsxruntime = require('react/jsx-runtime');var y=_react.createContext.call(void 0, null);function k({children:c,apiKey:C,appId:l,extensionId:x,overrideBaseUrl:f}){let[p,i]=_react.useState.call(void 0, 0),e=_react.useRef.call(void 0, new Proxy(_commonsdkbase.createCrossmint.call(void 0, {apiKey:C,overrideBaseUrl:f,appId:l,extensionId:x}),{set(t,n,r){return n==="jwt"&&t.jwt!==r&&i(o=>o+1),n==="experimental_customAuth"&&t.experimental_customAuth!==r&&i(o=>o+1),Reflect.set(t,n,r)}})),s=_react.useCallback.call(void 0, t=>{t!==e.current.jwt&&(e.current.jwt=t,e.current.experimental_customAuth==null?e.current.experimental_customAuth={jwt:t}:e.current.experimental_customAuth.jwt=t)},[]),u=_react.useCallback.call(void 0, t=>{e.current.jwt!=(t==null?void 0:t.jwt)&&(e.current.jwt=t==null?void 0:t.jwt),_lodashisequal2.default.call(void 0, t,e.current.experimental_customAuth)||(e.current.experimental_customAuth=t)},[]),d=_react.useMemo.call(void 0, ()=>({get crossmint(){return e.current},experimental_setCustomAuth:u,experimental_customAuth:e.current.experimental_customAuth,setJwt:s}),[u,s,p]);return _jsxruntime.jsx.call(void 0, y.Provider,{value:d,children:c})}exports.a = y; exports.b = k;
