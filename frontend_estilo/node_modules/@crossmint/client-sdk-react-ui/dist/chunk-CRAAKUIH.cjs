"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _chunkGGGQABDXcjs = require('./chunk-GGGQABDX.cjs');var _chunkBR77Q3PKcjs = require('./chunk-BR77Q3PK.cjs');var _chunkPZ3KXKJDcjs = require('./chunk-PZ3KXKJD.cjs');var _chunkKSUMPQNDcjs = require('./chunk-KSUMPQND.cjs');var _chunk2SBA4RZZcjs = require('./chunk-2SBA4RZZ.cjs');var _chunkXBXL7GMYcjs = require('./chunk-XBXL7GMY.cjs');var _chunkCD6E2BGDcjs = require('./chunk-CD6E2BGD.cjs');var _chunk7U6Q4ELBcjs = require('./chunk-7U6Q4ELB.cjs');var _chunkKT4LGFPNcjs = require('./chunk-KT4LGFPN.cjs');var _chunkDJZOP4MTcjs = require('./chunk-DJZOP4MT.cjs');var _chunkS4BKL6MRcjs = require('./chunk-S4BKL6MR.cjs');var _chunkAHMPKIEYcjs = require('./chunk-AHMPKIEY.cjs');var _chunkO3H2EYFAcjs = require('./chunk-O3H2EYFA.cjs');var _chunkSCHRLC2Icjs = require('./chunk-SCHRLC2I.cjs');var _chunk3X24JZVGcjs = require('./chunk-3X24JZVG.cjs');var _chunkEAWYV5ZOcjs = require('./chunk-EAWYV5ZO.cjs');var _chunkUMWTEGO6cjs = require('./chunk-UMWTEGO6.cjs');var _chunkI4GMMHQRcjs = require('./chunk-I4GMMHQR.cjs');var _chunkW5RDCN5Gcjs = require('./chunk-W5RDCN5G.cjs');var _chunkVXAHFAP4cjs = require('./chunk-VXAHFAP4.cjs');var _chunkNRN4WNQLcjs = require('./chunk-NRN4WNQL.cjs');var _chunk2WSEHVNPcjs = require('./chunk-2WSEHVNP.cjs');var _color = require('color'); var _color2 = _interopRequireDefault(_color);var _styled = require('@emotion/styled'); var _styled2 = _interopRequireDefault(_styled);var _react = require('react');var _clientsdkauth = require('@crossmint/client-sdk-auth');var _commonsdkbase = require('@crossmint/common-sdk-base');var _commonsdkauth = require('@crossmint/common-sdk-auth');var _clientsdkreactbase = require('@crossmint/client-sdk-react-base');var _clientsdkwindow = require('@crossmint/client-sdk-window');var _zod = require('zod');var _t=(o,e)=>{let{crossmintAuth:t}=O(),[r,i]=_react.useState.call(void 0, null),n=_react.useRef.call(void 0, null);return _react.useEffect.call(void 0, ()=>(n.current==null&&(n.current=new (0, _clientsdkwindow.ChildWindow)(window.opener||window.parent,"*",{incomingEvents:be})),()=>{n.current!=null&&n.current.off("authMaterialFromPopupCallback")}),[]),{createPopupAndSetupListeners:_react.useCallback.call(void 0, (l,x)=>_chunk2WSEHVNPcjs.d.call(void 0, void 0,null,function*(){if(n.current==null)throw new Error("Child window not initialized");i(l),e(null),console.log("createPopupAndSetupListeners",l,x),console.log("oauthUrlMap",o),console.log("oauthUrlMap[provider]",o[l]);let a=new URL(o[l]);if(x!=null){let m=Array.from(a.searchParams.entries());a.search="",x&&a.searchParams.append("provider_login_hint",x),m.forEach(([c,f])=>{a.searchParams.append(c,f)})}let C=yield _clientsdkwindow.PopupWindow.init(a.toString(),{awaitToLoad:!1,crossOrigin:!0,width:400,height:700}),d=m=>_chunk2WSEHVNPcjs.d.call(void 0, void 0,null,function*(){var c,f;yield t==null?void 0:t.handleRefreshAuthMaterial(m.oneTimeSecret),(c=n.current)==null||c.off("authMaterialFromPopupCallback"),(f=C.window)==null||f.close(),i(null)}),s=m=>{var c,f;e(m.error),(c=n.current)==null||c.off("errorFromPopupCallback"),(f=C.window)==null||f.close(),i(null)};n.current.on("authMaterialFromPopupCallback",d),n.current.on("errorFromPopupCallback",s);let g=setInterval(()=>{var m,c;(m=C.window)!=null&&m.closed&&(clearInterval(g),i(null),(c=n.current)==null||c.off("authMaterialFromPopupCallback"))},2500)}),[o,t,e]),isLoading:r!=null,activeOAuthProvider:r}},be={authMaterialFromPopupCallback:_zod.z.object({oneTimeSecret:_zod.z.string()}),errorFromPopupCallback:_zod.z.object({error:_zod.z.string()})};var _jsxruntime = require('react/jsx-runtime');var Kt={google:"",twitter:""},Qt=_react.createContext.call(void 0, void 0);function T(){let o=_react.useContext.call(void 0, Qt);if(!o)throw new Error("useOAuthFlow must be used within an OAuthFlowProvider");return o}function Nt({children:o,prefetchOAuthUrls:e}){let{crossmintAuth:t,loginMethods:r}=O(),{setError:i}=_chunkKT4LGFPNcjs.a.call(void 0, ),[n,p]=_react.useState.call(void 0, Kt),[l,x]=_react.useState.call(void 0, !0),{createPopupAndSetupListeners:a,isLoading:C,activeOAuthProvider:d}=_t(n,i),s=_react.useCallback.call(void 0, ()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){x(!0);try{let f=(r||[]).filter(h=>h in Kt).map(h=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){let A=yield t==null?void 0:t.getOAuthUrl(h);return{[h]:A}})),w=Object.assign({},...yield Promise.all(f));p(w)}catch(c){i(c instanceof Error?c.message:"Unable to load oauth providers. Please try again later.")}finally{x(!1)}}),[r,t,i]);_react.useEffect.call(void 0, ()=>{e&&s()},[s,e]);let m={startOAuthLogin:_react.useCallback.call(void 0, (c,f)=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){yield a(c,f)}),[a]),isLoading:l||C,activeOAuthProvider:d};return _jsxruntime.jsx.call(void 0, Qt.Provider,{value:m,children:o})}var _sdkreactcore = require('@dynamic-labs/sdk-react-core');var _ethereum = require('@dynamic-labs/ethereum');var _solana = require('@dynamic-labs/solana');var _bs58 = require('bs58'); var _bs582 = _interopRequireDefault(_bs58);function Te({children:o,enabled:e,onSdkLoaded:t,onWalletConnected:r,jwt:i}){let{primaryWallet:n,sdkHasLoaded:p,removeWallet:l,handleUnlinkWallet:x}=_sdkreactcore.useDynamicContext.call(void 0, ),a=!e||p;return _react.useEffect.call(void 0, ()=>{a&&(t==null||t(a))},[a,t]),_react.useEffect.call(void 0, ()=>{i==null&&a&&n!=null&&(l(n.id),x(n.id))},[i,a,n,l,x]),_react.useEffect.call(void 0, ()=>{function C(){return _chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){try{if(_ethereum.isEthereumWallet.call(void 0, n)){let d=yield n.getWalletClient(),s={type:"external-wallet",address:d.account.address,viemAccount:_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {},d.account),{signMessage:g=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){return yield d.signMessage({message:g.message})})})};r(s)}else if(_solana.isSolanaWallet.call(void 0, n)){let d=yield n.getSigner(),s={type:"external-wallet",address:n.address,onSignTransaction:g=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){return yield d.signTransaction(g)})};r(s)}else throw new Error("Unsupported wallet type")}catch(d){throw console.error("Failed to get admin signer",d),new Error("Failed to get admin signer")}})}n!=null&&i!=null&&C()},[n,i,r]),o}function Xt({children:o,enabled:e=!0,apiKeyEnvironment:t,loginMethods:r=["web3"],appearance:i,onSdkLoaded:n,onWalletConnected:p}){var d,s;let{crossmintAuth:l,jwt:x}=O(),a=_react.useMemo.call(void 0, ()=>{var g,m;return`.powered-by-dynamic { display: none !important; }
            .wallet-list__scroll-container { padding: 0px !important; }
            .wallet-list__search-container { padding-left: 0px !important; padding-right: 0px !important; }
            .dynamic-footer { display: none !important; }
            h1 { color: ${(g=i==null?void 0:i.colors)==null?void 0:g.textPrimary} !important; }
            * { color: ${(m=i==null?void 0:i.colors)==null?void 0:m.textSecondary} !important; }`},[(d=i==null?void 0:i.colors)==null?void 0:d.textPrimary,(s=i==null?void 0:i.colors)==null?void 0:s.textSecondary]),C=_react.useMemo.call(void 0, ()=>{if(e)return r.includes("web3:evm-only")?[_ethereum.EthereumWalletConnectors]:r.includes("web3:solana-only")?[_solana.SolanaWalletConnectors]:[_ethereum.EthereumWalletConnectors,_solana.SolanaWalletConnectors]},[e,r]);return _jsxruntime.jsx.call(void 0, _chunkKSUMPQNDcjs.a,{apiKeyEnvironment:t,settings:{walletConnectors:C,cssOverrides:a,events:{onAuthFailure(g,m){console.error("[DynamicWalletProvider] onAuthFailure",g,m)}},handlers:{handleConnectedWallet:g=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var c;if(!l)return console.error("[DynamicWalletProvider] crossmintAuth is not available"),!1;let m=g.address;if(m==null)return console.error("[DynamicWalletProvider] handleConnectedWallet: address is missing"),!1;try{let w=(yield _chunkPZ3KXKJDcjs.b.call(void 0, g))==="solana"?"solana":"evm",h=yield l.signInWithSmartWallet(m,w);if((h==null?void 0:h.challenge)==null)throw new Error("No challenge received from signInWithSmartWallet");let A=yield(c=g.connector)==null?void 0:c.proveOwnership(m,h.challenge);if(A==null)throw new Error("Failed to get signature from wallet");let W=A;if(w==="solana"){let B=Buffer.from(A,"base64");W=_bs582.default.encode(B)}let b=yield l.authenticateSmartWallet(m,w,W);if((b==null?void 0:b.oneTimeSecret)==null)throw new Error("No oneTimeSecret received from authenticateSmartWallet");return yield l.handleRefreshAuthMaterial(b.oneTimeSecret),!0}catch(f){return console.error("[DynamicWalletProvider] Error handling wallet connection:",f),!1}})}},children:_jsxruntime.jsx.call(void 0, Te,{enabled:e,onSdkLoaded:n,onWalletConnected:p,jwt:x,children:o})},`${t}-${r.join(",")}`)}var $e={crossmintAuth:void 0,login:()=>{},experimental_loginWithOAuth:()=>{},logout:()=>{},jwt:void 0,user:void 0,status:"initializing",getUser:()=>{},experimental_externalWalletSigner:void 0,loginMethods:[]},ut= exports.f =_react.createContext.call(void 0, $e);function mr({children:o,appearance:e,termsOfServiceText:t,prefetchOAuthUrls:r=!0,authModalTitle:i,onLoginSuccess:n,loginMethods:p=["email","google"],refreshRoute:l,logoutRoute:x}){let{crossmint:a}=_clientsdkreactbase.useCrossmint.call(void 0, "CrossmintAuthProvider must be used within CrossmintProvider"),[C,d]=_react.useState.call(void 0, void 0),[s,g]=_react.useState.call(void 0, void 0),m=_commonsdkbase.validateApiKeyAndGetCrossmintBaseUrl.call(void 0, a.apiKey),[c,f]=_react.useState.call(void 0, !1),[w,h]=_react.useState.call(void 0, !1),[A,W]=_react.useState.call(void 0, void 0),[b,B]=_react.useState.call(void 0, !0),D=p.some(P=>P.startsWith("web3")),[yt,fe]=_react.useState.call(void 0, void 0),it=_react.useRef.call(void 0, null),z=_react.useMemo.call(void 0, ()=>(it.current||(it.current=_clientsdkauth.CrossmintAuth.from(a,{callbacks:{onLogout:()=>{d(void 0),g(void 0)},onTokenRefresh:P=>{d(P.user),g(P.jwt)}},refreshRoute:l,logoutRoute:x})),it.current),[]),j=_react.useRef.call(void 0, null),at=_react.useCallback.call(void 0, ()=>{n==null||n()},[n]);_react.useEffect.call(void 0, ()=>{if(s==null){let P=_clientsdkauth.getCookie.call(void 0, _commonsdkauth.SESSION_PREFIX);g(P)}h(!0)},[s]),_react.useEffect.call(void 0, ()=>{s!=null&&c&&(f(!1),at())},[s,c,at]);let Ct=_react.useCallback.call(void 0, P=>{if(s!=null){console.log("User already logged in");return}P!=null&&typeof P=="string"&&W(P),f(!0)},[s]),wt=_react.useCallback.call(void 0, ()=>{z.logout()},[z]),lt=_react.useCallback.call(void 0, ()=>!w||D&&!b?"initializing":s!=null?"logged-in":c?"in-progress":"logged-out",[w,D,b,s,c]),vt=_react.useCallback.call(void 0, ()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){if(s==null){console.log("User not logged in");return}let P=yield z.getUser();return d(P),P}),[s,z]),At=_react.useCallback.call(void 0, P=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var X;yield(X=j.current)==null?void 0:X.call(j,P)}),[j]),he=_react.useMemo.call(void 0, ()=>({crossmintAuth:z,login:Ct,experimental_loginWithOAuth:At,logout:wt,jwt:s,user:C,status:lt(),getUser:vt,loginMethods:p,experimental_externalWalletSigner:yt}),[z,Ct,At,wt,s,C,lt,vt,p,yt]);return _jsxruntime.jsx.call(void 0, ut.Provider,{value:he,children:_jsxruntime.jsx.call(void 0, _chunkKT4LGFPNcjs.b,{setDialogOpen:(P,X)=>{f(P),X&&at()},initialState:{appearance:e,loginMethods:p,termsOfServiceText:t,authModalTitle:i,baseUrl:m,defaultEmail:A},children:_jsxruntime.jsx.call(void 0, Nt,{prefetchOAuthUrls:lt()==="logged-out"&&r,children:_jsxruntime.jsx.call(void 0, ze,{loginWithOAuthRef:j,children:D?_jsxruntime.jsxs.call(void 0, Xt,{apiKeyEnvironment:a.apiKey.includes("production")?"production":"staging",loginMethods:p,appearance:e,onSdkLoaded:B,onWalletConnected:fe,children:[o,_jsxruntime.jsx.call(void 0, rt,{open:c})]}):_jsxruntime.jsxs.call(void 0, _jsxruntime.Fragment,{children:[o,_jsxruntime.jsx.call(void 0, rt,{open:c})]})})})})})}function ze({children:o,loginWithOAuthRef:e}){let{startOAuthLogin:t}=T(),{jwt:r}=O(),i=_react.useCallback.call(void 0, n=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){if(r!=null){console.log("User already logged in");return}yield t(n)}),[r,t]);return _react.useEffect.call(void 0, ()=>{e.current=i},[i,e]),o}var O=()=>{let o=_react.useContext.call(void 0, ut);if(!o)throw new Error("useCrossmintAuth must be used within CrossmintAuthProvider");return o};var He=_styled2.default.div`
    display: flex;
    flex-direction: column;
`,Ke=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
`,Qe=_styled2.default.div`
    position: relative;
    left: 12px;
`,Ne=_styled2.default.p`
    font-size: 16px;
    font-weight: 400;
    margin: 16px 0 4px 0;
    text-align: center;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
`,je=_styled2.default.p`
    text-align: center;
    padding: 0 16px;
    margin: 0;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    font-size: 14px;
    line-height: 1.4;
`,Ve=_styled2.default.div`
    padding: 32px 0;
`,N=_styled2.default.call(void 0, _chunkXBXL7GMYcjs.c)`
    @media (max-width: 379px) {
        width: 40px;
        height: 56px;
        font-size: 28px;
        margin: 0;
    }
`,qe=_styled2.default.div`
    font-size: 12px;
    line-height: 1.3;
    text-align: center;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
`;function ee({otpEmailData:o,setOtpEmailData:e}){var f,w,h,A,W;let{crossmintAuth:t}=O(),{appearance:r,setDialogOpen:i,setStep:n,setError:p}=_chunkKT4LGFPNcjs.a.call(void 0, ),[l,x]=_react.useState.call(void 0, ""),[a,C]=_react.useState.call(void 0, !1),[d,s]=_react.useState.call(void 0, !1),g=()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var b,B;s(!0);try{let D=yield t==null?void 0:t.confirmEmailOtp((b=o==null?void 0:o.email)!=null?b:"",(B=o==null?void 0:o.emailId)!=null?B:"",l);yield t==null?void 0:t.handleRefreshAuthMaterial(D),i(!1,!0),n("initial")}catch(D){console.error("Error confirming email OTP",D),p("Invalid code. Please try again."),C(!0)}finally{s(!1)}}),m=()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var b;try{yield t==null?void 0:t.sendEmailOtp((b=o==null?void 0:o.email)!=null?b:"")}catch(B){p("Failed to resend code. Please try again.")}});return _jsxruntime.jsxs.call(void 0, He,{children:[_jsxruntime.jsx.call(void 0, _chunk7U6Q4ELBcjs.a,{onClick:()=>{n("initial"),e(null)},iconColor:(f=r==null?void 0:r.colors)==null?void 0:f.textPrimary,ringColor:(w=r==null?void 0:r.colors)==null?void 0:w.accent}),_jsxruntime.jsxs.call(void 0, Ke,{children:[_jsxruntime.jsx.call(void 0, Qe,{children:_jsxruntime.jsx.call(void 0, _chunkI4GMMHQRcjs.a,{customAccentColor:(h=r==null?void 0:r.colors)==null?void 0:h.accent,customButtonBackgroundColor:(A=r==null?void 0:r.colors)==null?void 0:A.buttonBackground,customBackgroundColor:(W=r==null?void 0:r.colors)==null?void 0:W.background})}),_jsxruntime.jsx.call(void 0, Ne,{appearance:r,children:"Check your email"}),_jsxruntime.jsxs.call(void 0, je,{appearance:r,children:["A temporary login code has been sent to",_jsxruntime.jsx.call(void 0, "br",{}),o!=null&&o.email?_jsxruntime.jsx.call(void 0, "strong",{children:o.email}):"your email address"]}),_jsxruntime.jsx.call(void 0, Ve,{children:_jsxruntime.jsx.call(void 0, _chunkXBXL7GMYcjs.a,{maxLength:6,value:l,onChange:b=>{x(b),C(!1),p(null)},onComplete:g,disabled:d,appearance:r,children:_jsxruntime.jsxs.call(void 0, _chunkXBXL7GMYcjs.b,{children:[_jsxruntime.jsx.call(void 0, N,{index:0,hasError:a}),_jsxruntime.jsx.call(void 0, N,{index:1,hasError:a}),_jsxruntime.jsx.call(void 0, N,{index:2,hasError:a}),_jsxruntime.jsx.call(void 0, N,{index:3,hasError:a}),_jsxruntime.jsx.call(void 0, N,{index:4,hasError:a}),_jsxruntime.jsx.call(void 0, N,{index:5,hasError:a})]})})}),_jsxruntime.jsxs.call(void 0, qe,{appearance:r,children:["Can't find the email? Check spam folder.",_jsxruntime.jsx.call(void 0, "br",{}),"Some emails may take several minutes to arrive."]}),_jsxruntime.jsx.call(void 0, _chunkDJZOP4MTcjs.a,{initialSeconds:60,appearance:r,countdownText:b=>`Re-send code in ${b}s`,countdownCompleteText:"Re-send code",handleOnClick:m})]})]})}var Je=_styled2.default.button`
    ${_chunk3X24JZVGcjs.a}
    
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 32px;
    padding: 0 10px;
    border: 1px solid ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.border)||_chunkEAWYV5ZOcjs.a["cm-border"]}};
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"12px"}};
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.buttonBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    cursor: ${o=>o.isLoading?"not-allowed":"pointer"};
    
    /* Hover and focus states */
    &:hover {
        background-color: ${o=>o.isLoading?_chunkEAWYV5ZOcjs.a["cm-muted-primary"]:_chunkEAWYV5ZOcjs.a["cm-hover"]};
    }
    
    &:focus {
        outline: none;
        background-color: theme["cm-hover"];
    }
`,Xe=_styled2.default.span`
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    font-size: 14px;
    font-weight: 400;
`;function re({emailInput:o,appearance:e}){var n,p;let{startOAuthLogin:t,activeOAuthProvider:r}=T(),i=r==="google";return _jsxruntime.jsxs.call(void 0, Je,{type:"button",appearance:e,isLoading:i,onClick:i?void 0:()=>t("google",o.trim().toLowerCase()),children:[_jsxruntime.jsx.call(void 0, _chunkVXAHFAP4cjs.a,{style:{height:"18px",width:"18px"}}),i?_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(n=e==null?void 0:e.colors)==null?void 0:n.textSecondary,fill:(p=e==null?void 0:e.colors)==null?void 0:p.textPrimary,width:"18px",height:"18px"}}):_jsxruntime.jsx.call(void 0, Xe,{appearance:e,children:"Continue"})]})}var Ze=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    width: 100%;
    border-radius: 8px;
`,to=_styled2.default.div`
    width: 100%;
`,eo=_styled2.default.label`
    display: block;
    margin-bottom: 5px;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    font-size: 14px;
    font-weight: 400;
`,oo=_styled2.default.form`
    position: relative;
`,ro=_styled2.default.input`
    ${_chunk3X24JZVGcjs.a}
    
    /* Base input styles */
    display: flex;
    flex-grow: 1;
    text-align: left;
    padding-left: 16px;
    padding-right: ${o=>o.showGoogleButton?"132px":"80px"};
    height: 58px;
    width: 100%;
    border: 1px solid;
    border-color: ${o=>{var e,t,r,i;return o.hasError?((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)||_chunkEAWYV5ZOcjs.a["cm-danger"]:((i=(r=o.appearance)==null?void 0:r.colors)==null?void 0:i.border)||_chunkEAWYV5ZOcjs.a["cm-border"]}};
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"12px"}};
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    font-size: 16px;
    transition: border-color 200ms ease-in-out, box-shadow 200ms ease-in-out;
    
    &::placeholder {
        font-weight: 400;
        color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    }
    
    &:focus {
        outline: none;
        box-shadow: 0 0 0 2px ${o=>{var e,t;return new (0, _color2.default)(((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]).alpha(.18).toString()}};
    }
    
    &:read-only {
        cursor: not-allowed;
        opacity: 0.7;
    }
`,no=_styled2.default.div`
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    padding-right: 16px;
    aspect-ratio: 1/1;
`,io=_styled2.default.button`
    ${_chunk3X24JZVGcjs.a}
    
    font-weight: 500;
    white-space: nowrap;
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    cursor: ${o=>o.disabled?"not-allowed":"pointer"};
    opacity: ${o=>o.disabled?.6:1};
    border: none;
    padding: 8px 12px;
    border-radius: 6px;
    transition: opacity 200ms ease;
    
    &:hover:not(:disabled) {
        opacity: 0.8;
    }
    
    &:focus-visible {
        outline: 2px solid ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
        outline-offset: 2px;
    }

    &:not(:disabled):focus-visible {
        box-shadow: 0 0 0 2px ${o=>{var e,t;return new (0, _color2.default)(((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]).alpha(.18).toString()}};
    }
`,ao=_styled2.default.p`
    font-size: 12px;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)||_chunkEAWYV5ZOcjs.a["cm-danger"]}};
    margin: 8px 0 8px 0;
`;function ie({setOtpEmailData:o}){var c,f,w;let{crossmintAuth:e}=O(),{appearance:t,defaultEmail:r,setStep:i,setError:n,loginMethods:p}=_chunkKT4LGFPNcjs.a.call(void 0, ),[l,x]=_react.useState.call(void 0, r!=null?r:""),[a,C]=_react.useState.call(void 0, ""),[d,s]=_react.useState.call(void 0, !1),g=l.toLowerCase().includes("@gmail.com")&&!l.toLowerCase().includes("+")&&_commonsdkauth.isEmailValid.call(void 0, l)&&!d&&p.includes("google");function m(h){return _chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){h.preventDefault(),s(!0);try{let A=l.trim().toLowerCase(),W=yield e==null?void 0:e.sendEmailOtp(A);o({email:A,emailId:W.emailId}),i("otp")}catch(A){s(!1),n("Failed to send email. Please try again or contact support.")}})}return _jsxruntime.jsx.call(void 0, Ze,{children:_jsxruntime.jsxs.call(void 0, to,{children:[_jsxruntime.jsx.call(void 0, eo,{appearance:t,children:"Email"}),_jsxruntime.jsxs.call(void 0, oo,{role:"form",onSubmit:h=>{if(g){h.preventDefault();return}_commonsdkauth.isEmailValid.call(void 0, l)?m(h):h.preventDefault()},noValidate:!0,children:[_jsxruntime.jsx.call(void 0, _chunkS4BKL6MRcjs.a,{children:"Email"}),_jsxruntime.jsx.call(void 0, ro,{id:"emailInput",appearance:t,hasError:!!a,showGoogleButton:g,type:"email",placeholder:"your@email.com",value:l,onChange:h=>{x(h.target.value),C(""),n(null)},readOnly:d,"aria-describedby":"emailError"}),_jsxruntime.jsxs.call(void 0, no,{children:[a&&_jsxruntime.jsx.call(void 0, _chunkNRN4WNQLcjs.a,{customColor:(c=t==null?void 0:t.colors)==null?void 0:c.danger}),d&&_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(f=t==null?void 0:t.colors)==null?void 0:f.textSecondary,fill:(w=t==null?void 0:t.colors)==null?void 0:w.textPrimary}}),g?_jsxruntime.jsx.call(void 0, re,{emailInput:l,appearance:t}):!a&&!d?_jsxruntime.jsx.call(void 0, io,{type:"submit",appearance:t,disabled:!_commonsdkauth.isEmailValid.call(void 0, l)||d,children:"Submit"}):null]})]}),a&&_jsxruntime.jsx.call(void 0, ao,{appearance:t,id:"emailError",children:a})]})})}function le(){let{step:o}=_chunkKT4LGFPNcjs.a.call(void 0, ),[e,t]=_react.useState.call(void 0, null);return o==="otp"?_jsxruntime.jsx.call(void 0, ee,{otpEmailData:e,setOtpEmailData:t}):o==="initial"?_jsxruntime.jsx.call(void 0, ie,{setOtpEmailData:t}):null}function se(e){var o=_chunk2WSEHVNPcjs.c.call(void 0, e,[]);var l;let{step:t,appearance:r}=_chunkKT4LGFPNcjs.a.call(void 0, ),{startOAuthLogin:i,activeOAuthProvider:n}=T(),p=n==="google";return t!=="initial"?null:_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {icon:_jsxruntime.jsx.call(void 0, _chunkVXAHFAP4cjs.a,{style:{height:"25px",width:"25px"}}),isLoading:p,appearance:r,onButtonClick:()=>i("google")},o),{children:_jsxruntime.jsx.call(void 0, "span",{style:{color:(l=r==null?void 0:r.colors)==null?void 0:l.textPrimary},children:"Sign in with Google"})}))}var _authkit = require('@farcaster/auth-kit');var po=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
`,go=_styled2.default.div`
    text-align: center;
`,fo=_styled2.default.h3`
    font-size: 18px;
    font-weight: 600;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    margin: 0 0 8px 0;
`,ho=_styled2.default.p`
    font-size: 16px;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    margin: 0;
`,xo=_styled2.default.div`
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    aspect-ratio: 1;
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"8px"}};
    padding: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
`,yo=_styled2.default.div`
    min-height: 246px;
    display: flex;
    align-items: center;
    justify-content: center;
`,Co=_styled2.default.p`
    font-size: 16px;
    text-align: center;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    margin: 0;
`,wo=_styled2.default.a`
    font-size: 16px;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textLink)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    text-decoration: none;
    
    &:hover {
        text-decoration: underline;
    }
`;function ce(){let{step:o,appearance:e,setStep:t,setError:r}=_chunkKT4LGFPNcjs.a.call(void 0, );return o==="initial"?_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,{icon:_jsxruntime.jsx.call(void 0, _chunkW5RDCN5Gcjs.a,{style:{height:"25px",width:"25px"}}),appearance:e,onButtonClick:()=>{t("qrCode"),r(null)},children:"Sign in with Farcaster"}):o==="qrCode"?_jsxruntime.jsx.call(void 0, vo,{}):null}function vo(){var m,c,f,w;let{crossmintAuth:o}=O(),{appearance:e,setStep:t,setDialogOpen:r,setError:i}=_chunkKT4LGFPNcjs.a.call(void 0, ),[n,p]=_react.useState.call(void 0, null),l=_react.useMemo.call(void 0, ()=>({onSuccess:h=>{p(h)}}),[]),{signIn:x,url:a,connect:C,signOut:d,isConnected:s}=_authkit.useSignIn.call(void 0, l),g=h=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){i(null);try{let A=yield o==null?void 0:o.signInWithFarcaster(h);yield o==null?void 0:o.handleRefreshAuthMaterial(A),r(!1),t("initial")}catch(A){console.error("Error during Farcaster sign-in:",A),i("Failed to sign in with Farcaster")}});return _react.useEffect.call(void 0, ()=>{n!=null&&g(n)},[n]),_react.useEffect.call(void 0, ()=>{s&&x()},[s]),_react.useEffect.call(void 0, ()=>{C()},[]),_jsxruntime.jsxs.call(void 0, "div",{children:[_jsxruntime.jsx.call(void 0, _chunk7U6Q4ELBcjs.a,{onClick:()=>{d(),t("initial")},iconColor:(m=e==null?void 0:e.colors)==null?void 0:m.textPrimary,ringColor:(c=e==null?void 0:e.colors)==null?void 0:c.accent}),_jsxruntime.jsxs.call(void 0, po,{children:[_jsxruntime.jsxs.call(void 0, go,{children:[_jsxruntime.jsx.call(void 0, fo,{appearance:e,children:"Sign in with Farcaster"}),_jsxruntime.jsx.call(void 0, ho,{appearance:e,children:"Scan with your phone's camera to continue."})]}),_jsxruntime.jsx.call(void 0, xo,{appearance:e,children:a!=null?_jsxruntime.jsx.call(void 0, _authkit.QRCode,{uri:a,size:280}):_jsxruntime.jsx.call(void 0, yo,{children:_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(f=e==null?void 0:e.colors)==null?void 0:f.textSecondary,fill:(w=e==null?void 0:e.colors)==null?void 0:w.textPrimary}})})}),a?_jsxruntime.jsxs.call(void 0, _jsxruntime.Fragment,{children:[_jsxruntime.jsx.call(void 0, Co,{appearance:e,children:"Alternatively, click on this link to open Warpcast."}),_jsxruntime.jsx.call(void 0, wo,{href:a,rel:"noopener noreferrer",target:"_blank",appearance:e,children:"Open Warpcast"})]}):_jsxruntime.jsx.call(void 0, "div",{style:{height:"66px"}})]})]})}function me(e){var o=_chunk2WSEHVNPcjs.c.call(void 0, e,[]);let{step:t,appearance:r}=_chunkKT4LGFPNcjs.a.call(void 0, ),{startOAuthLogin:i,activeOAuthProvider:n}=T(),p=n==="twitter";return t!=="initial"?null:_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {icon:_jsxruntime.jsx.call(void 0, _chunkUMWTEGO6cjs.a,{style:{height:"22px",width:"22px"}}),isLoading:p,appearance:r,onButtonClick:()=>i("twitter")},o),{children:"Sign in with X"}))}var Po=_styled2.default.div`
    position: relative;
    padding: 40px 24px 30px 24px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    -webkit-font-smoothing: antialiased;
    animation: none;
    
    @media (min-width: 480px) {
        padding: 40px 40px 30px 40px;
    }
`,So=_styled2.default.div`
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    border-radius: 8px;
    padding: 8px;
    gap: 8px;
    margin-top: 34px;
    background-color: ${o=>{var e,t,r;return new (0, _color2.default)((r=(t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)!=null?r:_chunkEAWYV5ZOcjs.a["cm-danger"]).alpha(.12).toString()}};
`;function pe({style:o}){var x,a,C,d,s,g,m,c,f,w;let{step:e,appearance:t,loginMethods:r,baseUrl:i,error:n,termsOfServiceText:p,authModalTitle:l}=_chunkKT4LGFPNcjs.a.call(void 0, );return _jsxruntime.jsxs.call(void 0, Po,{style:o,children:[n!=null?_jsxruntime.jsxs.call(void 0, So,{appearance:t,children:[_jsxruntime.jsx.call(void 0, "div",{style:{minWidth:"20px"},children:_jsxruntime.jsx.call(void 0, _chunkNRN4WNQLcjs.a,{customColor:(a=(x=t==null?void 0:t.colors)==null?void 0:x.danger)!=null?a:_chunkEAWYV5ZOcjs.a["cm-danger"]})}),_jsxruntime.jsx.call(void 0, "p",{style:{fontSize:"14px",margin:0,color:(d=(C=t==null?void 0:t.colors)==null?void 0:C.danger)!=null?d:_chunkEAWYV5ZOcjs.a["cm-danger"]},children:n})]}):null,e==="initial"?_jsxruntime.jsxs.call(void 0, "div",{children:[_jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.b,{appearance:t,children:l!=null?l:"Sign in to Crossmint"}),_jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.c,{appearance:t,children:"Access using one of the options below."})]}):null,r.includes("google")?_jsxruntime.jsx.call(void 0, se,{}):null,r.includes("farcaster")?_jsxruntime.jsx.call(void 0, _chunkBR77Q3PKcjs.a,{baseUrl:i,children:_jsxruntime.jsx.call(void 0, ce,{})}):null,r.includes("twitter")?_jsxruntime.jsx.call(void 0, me,{}):null,r.some(h=>h.startsWith("web3"))?_jsxruntime.jsx.call(void 0, _chunkGGGQABDXcjs.a,{}):null,r.includes("email")?_jsxruntime.jsxs.call(void 0, "div",{children:[r.length>1?_jsxruntime.jsx.call(void 0, _chunk2SBA4RZZcjs.a,{appearance:t,text:"OR"}):null,_jsxruntime.jsx.call(void 0, le,{})]}):null,e==="initial"&&p!=null?_jsxruntime.jsxs.call(void 0, "div",{style:{fontSize:"0.875rem",textAlign:"center",marginTop:"0.5rem",color:(g=(s=t==null?void 0:t.colors)==null?void 0:s.textSecondary)!=null?g:_chunkEAWYV5ZOcjs.a["cm-text-secondary"]},children:[_jsxruntime.jsx.call(void 0, "style",{children:`
                        p a {
                            color: ${(c=(m=t==null?void 0:t.colors)==null?void 0:m.textLink)!=null?c:_chunkEAWYV5ZOcjs.a["cm-link"]};
                        }
                    `}),p]}):null,e==="initial"||e==="otp"?_jsxruntime.jsx.call(void 0, _chunkSCHRLC2Icjs.a,{style:{marginTop:"1rem",justifyContent:"center"},color:(w=(f=t==null?void 0:t.colors)==null?void 0:f.textSecondary)!=null?w:_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}):null]})}function rt({open:o}){let{appearance:e,setDialogOpen:t}=_chunkKT4LGFPNcjs.a.call(void 0, );return _jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.a,{open:o,setDialogOpen:t,appearance:e,children:_jsxruntime.jsx.call(void 0, pe,{style:{maxWidth:"448px",padding:"0px"}})})}exports.a = rt; exports.b = _t; exports.c = T; exports.d = Nt; exports.e = Xt; exports.f = ut; exports.g = mr; exports.h = O; exports.i = ee; exports.j = re; exports.k = ie; exports.l = le; exports.m = se; exports.n = ce; exports.o = me; exports.p = pe;
